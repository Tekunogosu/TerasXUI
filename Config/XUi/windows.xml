<configs>
    
    
    
    <!-- Center the ingame menu (esc menu) and the options menu -->
    <setattribute xpath="//window[@name='ingameMenu']" name="anchor">CenterCenter</setattribute>
    <setattribute xpath="//window[@name='ingameMenu']" name="pos">-125,0</setattribute>

    <!-- Hide the default food/water bars -->
    <remove xpath="//window[@name='windowToolbelt']/rect/rect[@stat_type='Food']" />
    <remove xpath="//window[@name='windowToolbelt']/rect/rect[@stat_type='Water']" />

    <!-- Adjust the exp bar to make it more visible -->
    <remove xpath="//window[@name='windowToolbelt']/rect/sprite[2 and 3 and 4]" />

    <append xpath="//window[@name='windowToolbelt']/rect">
        <!-- Add unobtrusive level indicator -->
        <label depth="1" name="TextContent" text="LEVEL: {cvar($LastPlayerLevel)}" pos="10,14" font_size="26" height="24" width="40" color="[gold]" effect="shadow" effect_color="0,0,0" effect_distance="1,1"/>
        <sprite depth="1" pos="53,14" height="12" width="700" color="64,64,64,200" sprite="menu_empty2px" globalopacity="false" type="sliced" />
        <sprite depth="9" pos="53,14" height="12" width="700" color="0,0,0,220" sprite="menu_empty2px" globalopacity="false" type="sliced" fillcenter="false" />
<!--        <sprite depth="4" pos="53,14" height="12" width="700" color="{xpcolor}" globalopacity="false" type="filled" fill="{xp}" />-->
        <sprite depth="4" pos="53,14" height="12" width="700" color="73, 71, 181" globalopacity="false" type="filled" fill="{xp}" />
        <label type="TextContent" depth="5" pos="228,14" color="[black]" text="|" font_size="32" height="12" /><!-- 25% -->
        <label type="TextContent" depth="5" pos="403,14" color="[black]" text="|" font_size="32" height="12" /><!-- 50% -->
        <label type="TextContent" depth="5" pos="578,14" color="[black]" text="|" font_size="32" height="12" /><!-- 75% -->
    </append>


    <!-- Adjust the sprint indicator so our bars don't overlap -->
    <setattribute xpath="//window[@name='HUDLeftStatBars']/rect[1]/rect[2]/sprite[@name='sprint']" name="pos">170,28</setattribute>

    <!-- Create our food/water bars that look good -->
    <append xpath="//window[@name='HUDLeftStatBars']/rect[1]">

        <!-- Food -->;
        <rect width="171" height="46" pos="175,-100" controller="HUDStatBar" stat_type="Food" visible="{statvisible}">
            <sprite depth="1" name="border" color="0,0,0,128" type="sliced"/>
            <sprite depth="2" name="background" color="0,0,0,140" type="sliced" />

            <filledsprite depth="3" name="background" color="[mediumGrey_half_alpha]" width="169" type="filled" fill="{statmodifiedmax}" />
            <filledsprite depth="5" name="BarContent" color="0,255,54,128" width="169" type="filled" fill="0" />
            
            <sprite depth="6" name="Icon" sprite="ui_game_symbol_fork" size="35,35" pos="26,-24" pivot="center" foregroundlayer="true"/>
            <label depth="4" name="TextContent" text="{# length(statfill)==0 ? '' : Round(float(statfill) * (cvar('$LastPlayerLevel') + 100)*.99,0)}/{# cvar('$LastPlayerLevel') + 100}" pos="44,-23" font_size="32" color="[white]" justify="center" pivot="left" width="125" height="35" />

            <sprite depth="8" name="border" color="0,0,0,255" type="sliced" fillcenter="false"/>
            <filledsprite depth="8" name="background" color="0,0,0,255" width="171" fillcenter="false" type="filled" fill="{statmodifiedmax}" />
            <filledsprite depth="3" name="background" color="0,0,0,255" width="170" fillcenter="false" type="filled" fill="{statmodifiedmax}" />
        </rect>

        <!-- Water -->
        <rect width="171" height="46" pos="175,-50" controller="HUDStatBar" stat_type="Water" visible="{statvisible}">
            <sprite depth="1" name="border" color="0,0,0,128" type="sliced"/>
            <sprite depth="2" name="background" color="0,0,0,140" type="sliced" />

            <filledsprite depth="3" name="background" color="[mediumGrey_half_alpha]" width="169" type="filled" fill="{statmodifiedmax}" />
            <filledsprite depth="5" name="BarContent" color="0,54,255,160" width="169" type="filled" fill="0" />
            
            <sprite depth="6" name="Icon"  sprite="ui_game_symbol_water" size="35,35" pos="26,-24" pivot="center" foregroundlayer="true"/>
            <label depth="4" name="TextContent" text="{# length(statfill)==0 ? '' : Round(float(statfill) * (cvar('$LastPlayerLevel') + 100)*.99,0)}/{# cvar('$LastPlayerLevel') + 100}" pos="44,-23" font_size="32" color="[white]" justify="center" pivot="left" width="125" height="35" effect="outline" effect_color="0,0,0" effect_distance="2"/>

            <sprite depth="8" name="border" color="0,0,0,255" type="sliced" fillcenter="false"/>
            <filledsprite depth="8" name="background" color="0,0,0,255" width="171" fillcenter="false" type="filled" fill="{statmodifiedmax}" />
            <filledsprite depth="3" name="background" color="0,0,0,255" width="170" fillcenter="false" type="filled" fill="{statmodifiedmax}" />
        </rect>
    </append>
    
    <!-- Target Window -->
    <remove xpath="//window[@name='windowTargetBar']/rect"/>
    <setattribute xpath="//window[@name='windowTargetBar']" name="visibility">always</setattribute>
    <append xpath="//window[@name='windowTargetBar']">
        <rect anchor="CenterTop" pos="-150,-175" width="150" height="24" visible="{visible}">
            <label depth="1" name="TextContent" pos="0, -5" font_size="20" color="[white]" justify="left" text="{name}" height="20" effect="shadow" effect_color="0,0,0,255" effect_distance="2,2"/>
        </rect>

        <rect anchor="CenterTop" pos="-150,-200" width="300" height="36" visible="{visible}" >
            <sprite depth="3" name="border" color="0,0,0,255" type="sliced" width="300" globalopacity="false" fillcenter="false"/>
            <sprite depth="2" name="background" color="0,0,0,140" type="sliced" />

            <filledsprite depth="2" name="BarContent" type="filled" color="201,14,158,180" width="300" fill="{fill}" globalopacity="false"/> 
            <label depth="3" name="TextContent" pos="0,-5" font_size="28" color="[white]" justify="center" pivot="topleft" text="{currentwithmax}" height="30" effect="shadow" effect_color="0,0,0,255" effect_distance="2,2"/>
        </rect>
    </append>

    <!-- Entering popup.. needs to be smaller -->
    <remove xpath="//window[@name='windowEntering']"/>
    <append xpath="/windows">
        <window name="windowEntering" controller="EnteringArea" difficulty_color="[red]" biome_color="[green]" inactive_color="[lightGrey]" difficulty_icon="ui_game_symbol_skull" biome_icon="ui_game_symbol_foliage" >
            <rect pos="-150,-85" width="300" height="75" visible="{visible}" >
                <label depth="3" name="TextContent" pos="5,-14" font_size="32" color="[white]" pivot="topleft" text="{locationname}" justify="center" width="290" height="60" effect="shadow" effect_color="0,0,0,255" effect_distance="2,2" />

                <grid padding="8,10" pos="150,-65" pivot="center" cols="8" cell_width="34" cell_height="32">
                    <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" color="214, 101, 73" visible="{visible1}"/>
                    <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" color="214, 101, 73" visible="{visible2}"/>
                    <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" color="214, 101, 73" visible="{visible3}"/>
                    <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" color="214, 101, 73" visible="{visible4}"/>
                    <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" color="214, 101, 73" visible="{visible5}"/>
                    <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" color="214, 101, 73" visible="{visible6}"/>
                    <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" color="214, 101, 73" visible="{visible7}"/>

                    <rect width="32" height="32" visible="{visible_half}">
                        <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" type="filled" fill="0.5" color="214,101,73"/>
                        <sprite depth="2" name="windowicon" style="icon32px" sprite="ui_game_symbol_skull" type="filled" fill="0.5" fillinvert="true" color="[black]"/>
                    </rect>
                </grid>
            </rect>
        </window>

    </append>

    <!-- Compass cluster-->
    <remove xpath="//window[@name='windowCompass']/sprite[last()]" /> 
    <append xpath="//window[@name='windowCompass']">
        <label depth="2" pos="78, -55"  width="50" height="24" text="[{daycolor}]{daytitle}: {day}[-]" font_size="22" pivot="center" effect="shadow" effect_color="0,0,0" effect_distance="1,1" upper_case="true" justify="left"/>
        <label depth="2" pos="415, -55"  width="60" height="24" text="[dea3a3]{time}[-]" font_size="22" pivot="center" effect="shadow" effect_color="0,0,0" effect_distance="1,1" upper_case="true" justify="left"/>

        <rect name="content" depth="5" pos="265,10" height="239" controller="MapStats">
                <sprite depth="2" name="tempIcon" width="19" height="19" pos="0,-55" sprite="ui_game_symbol_temperature" color="[iconColor]" foregroundlayer="true"/>
                <label depth="2" name="tempLabel" pos="22,-55" width="250" height="24" text="[a3dea3]{playercoretemp}[-]" font_size="22" effect="shadow" effect_color="0,0,0" effect_distance="1,1"/>
              
                <sprite depth="2" name="elevIcon" width="19" height="19" pos="-115,-55" sprite="ui_game_symbol_climb" color="[iconColor]" foregroundlayer="true"/>
                <label depth="2" name="elevLabel" pos="-93,-55" width="250" height="24" text="[a3a3de]{mapelevation} M[-]" font_size="22" effect="shadow" effect_color="0,0,0" effect_distance="1,1"/> 
        </rect>
    </append>
    
    
    <!-- Sort/Fill Buttons and inventory lock -->
    <remove xpath="//window[@name='windowBackpack']/panel[@name='header']"/>
    <append xpath="//window[@name='windowBackpack']">
        <panel name="header" height="43" depth="1" backgroundspritename="ui_game_panel_header">
            <sprite depth="3" name="windowIcon" style="icon32px" pivot="center" pos="21,-21" sprite="ui_game_symbol_backpack" />
            <label depth="3" name="windowName" pos="42,-6" width="180" height="32" text="INVENTORY" text_key="xuiInventory" font_size="32"/>

            <rect pos="280,0" width="300" controller="ContainerStandardControls" move_start_bottom_left="true" is_backpack="true">
                <button depth="3" name="btnClearInventory" sprite="ui_game_symbol_trash" tooltip_key="lblClearInventory" pos="-105, -22" style="icon32px, press, hover" pivot="center" sound="[paging_click]" visible="{creativewindowopen}" />
                <button depth="3" name="btnSort"           sprite="ui_game_symbol_sort"  tooltip_key="lblSortContainer"  pos="-65, -22" style="icon32px, press, hover" pivot="center" sound="[paging_click]" visible="{creativewindowopen}"/>
                
                <button depth="3" name="btnSort"           sprite="ui_game_symbol_sort"  tooltip_key="lblSortContainer"  pos="-105, -22" style="icon32px, press, hover" pivot="center" sound="[paging_click]" visible="{# !creativewindowopen}"/>

                <rect pos="0, 0" visible="{lootingorvehiclestorage}">
                    <button   depth="3" name="btnMoveFillAndSmart" sprite="ui_game_symbol_store_similar_down" tooltip_key="lblStashFillAndSmart" pos="-65, -22" style="icon32px, press, hover" pivot="center" sound="[paging_click]" />
                    <button   depth="3" name="btnMoveAll"          sprite="ui_game_symbol_store_all_down"     tooltip_key="lblStashAll"             pos="-25, -22" style="icon32px, press, hover" pivot="center" sound="[paging_click]" />
                </rect>

                <combobox depth="3" name="cbxLockedSlots" pos="10,-7" width="100" height="30" tooltip_key="xuiStashLockedSlots" type="ComboBoxInt" value_min="0" value_max="45" value_wrap="true" value_increment="1" />
            </rect>

            <label depth="2" pos="490,-10" width="80" height="28" text="{currencyamount}" color="103, 214, 88" justify="right" />
            <sprite depth="4" name="costIcon" sprite="ui_game_symbol_coin" size="24,24" pos="577,-10" color="[white]" foregroundlayer="true" />
        </panel>
    </append>
    
    <!-- Show skill points on the book and perk tab too, like why is this not here by default?? -->
    <setattribute xpath="//window[@name='windowSkillList']/panel[@name='header']/label[2]" name="visible">{visible}</setattribute>
    
    <!-- Change the icon for deleting quests to be less confusing.. -->
    <setattribute xpath="//window[@name='windowQuestList']/rect[@name='content']/rect[1]/button[@name='questRemoveBtn']" name="sprite">ui_game_symbol_trash</setattribute>
</configs>
